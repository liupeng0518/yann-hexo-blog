<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>
    <div id="app">
        <nav>
            <div class="nav-wrapper grey darken-3">
                <a href="#" class="brand-logo">Yann's Choice</a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li v-for="tab in tabs" :id="tab.id"><a @click="getData(tab.id)">{{tab.name}}</a></li>
                </ul>
            </div>
        </nav>

        <div class="row">


            <div class="col s4 m3" v-for="data in getData()">
                <div class="card hoverable">
                    <div class="card-image">
                        <img class="item-image" :src="data.image">
                        <a :href="data.url" class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">link
                            </i></a>
                    </div>
                    <div class="card-content card-content-normal">
                        <span class="card-title">{{data.name}}</span>
                        <p>{{data.recommendText}}</p>
                        <p class="right-align recommend-star">推荐指数：{{data.recommendStar}}</p>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <script src="https://unpkg.com/vue"></script>
    <script>
        new Vue({
            el: '#app',
            data: {
                tabs: [{
                    id: 'tab-book',
                    name: '书籍',
                    recommend: [{
                        name: '屠夫十字镇',
                        image: 'https://s1.ax1x.com/2018/08/30/PjDizd.png',
                        url: 'https://book.douban.com/subject/26765928/',
                        recommendText: '和自然对抗的人，总是会输的多一些，还好年轻，继续上路。',
                        recommendStar: '★★★★★'
                    }, {
                        name: '刻意练习',
                        image: 'https://s1.ax1x.com/2018/08/30/PjDZeP.png',
                        url: 'https://book.douban.com/subject/26895993/',
                        recommendText: '天才是日复一日的锤炼。',
                        recommendStar: '★★★'
                    }, ]
                }, {
                    id: 'tab-video',
                    name: '视频'
                }, {
                    id: 'tab-other',
                    name: '其他'
                }]
            },
            methods: {
                getData: function (id) {
                    if (id == undefined) {
                        return this.tabs[0].recommend;
                    }
                    return this.tabs.filter(item => item.id == id)[0].recommend;
                }
            }
        });
    </script>

    <style lang="css" scoped>
        .item-image {
            height: 300px;
            width: auto;
            overflow: hidden;
            position: relative;
            object-fit: cover;
        }

        .card-content-normal {
            height: 150px;
        }

        .recommend-star {
            position: absolute;
            bottom: 0px;
            padding: 10px;
            right: 20px;
        }
    </style>
</body>

</html>